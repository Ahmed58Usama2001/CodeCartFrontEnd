<!-- order-summary.component.html -->
<div class="card shadow-sm border-0 sticky-top" style="top: 1rem;">
  <div class="card-header bg-success text-white py-3">
    <h6 class="mb-0 fw-semibold">Order Summary</h6>
  </div>
  <div class="card-body">
    <div class="mb-3">
      <div class="d-flex justify-content-between mb-2">
        <span class="text-muted">Subtotal:</span>
        <span class="fw-semibold">${{ subtotal | number:'1.2-2' }}</span>
      </div>
      <div class="d-flex justify-content-between mb-2">
        <span class="text-muted">Shipping:</span>
        <span class="fw-semibold" *ngIf="shipping > 0">${{ shipping | number:'1.2-2' }}</span>
        <span class="fw-semibold text-success" *ngIf="shipping === 0">FREE</span>
      </div>
     
      <hr>
      <div class="d-flex justify-content-between">
        <span class="h6 fw-bold">Total:</span>
        <span class="h6 fw-bold text-success">
          ${{ total | number:'1.2-2' }}
        </span>
      </div>
    </div>

    <div class="mb-4">
      <mat-form-field appearance="outline" class="w-100">
        <mat-label>Promo Code</mat-label>
        <input matInput placeholder="Enter code" #promoInput>
        <button mat-icon-button matSuffix (click)="onApplyPromoCode(promoInput.value)">
          <mat-icon>local_offer</mat-icon>
        </button>
      </mat-form-field>
    </div>

    @if (!hideCheckoutButton) {
      <button mat-raised-button color="primary" class="w-100 py-3 mb-3" (click)="onCheckoutClick()">
        <mat-icon class="me-2">payment</mat-icon>
        Proceed to Checkout
      </button>
    }

    <div class="text-center">
      <small class="text-muted d-flex align-items-center justify-content-center">
        <mat-icon class="me-1" style="font-size: 1rem;">security</mat-icon>
        Secure Checkout
      </small>
    </div>
  </div>
</div>